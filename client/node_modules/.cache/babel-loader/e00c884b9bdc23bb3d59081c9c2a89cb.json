{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/bilal/Documents/food-delivery-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/bilal/Documents/food-delivery-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\bilal\\\\Documents\\\\food-delivery-app\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from'react';import axios from\"axios\";import\"./modalEditFood.css\";import{Notyf}from\"notyf\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ModalEditFood(_ref){var showEdit=_ref.showEdit,onClose=_ref.onClose,categories=_ref.categories,singleFood=_ref.singleFood,setSingleFood=_ref.setSingleFood;var _useState=useState(),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),price=_useState8[0],setPrice=_useState8[1];var handleEdit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios({method:\"put\",url:\"\".concat(process.env.REACT_APP_API_URL,\"food/edit/\")+id,withCredentials:true,data:{name:name,category:category,description:description,price:price},headers:{'Access-Control-Allow-Credentials':true}}).then(function(res){var notyf=new Notyf({duration:2000,position:{x:'center',y:'top'}});singleFood.name=name;singleFood.description=description;singleFood.price=price;singleFood.category._id=category;notyf.success('Product edited with success');}).then(function(){return onClose();}).catch(function(err){console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleEdit(_x){return _ref2.apply(this,arguments);};}();if(!showEdit){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"modal\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:function onClick(e){return e.stopPropagation();},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-modal\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit product\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,children:\"X\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"body-modal\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",placeholder:\"Name...\",onChange:function onChange(e){return setName(e.target.value);},defaultValue:singleFood.name}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"description\",name:\"description\",placeholder:\"Description...\",onChange:function onChange(e){return setDescription(e.target.value);},defaultValue:singleFood.description}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"price\",name:\"price\",placeholder:\"Price...\",onChange:function onChange(e){return setPrice(e.target.value);},defaultValue:singleFood.price}),/*#__PURE__*/_jsx(\"div\",{className:\"categories-modal\",children:categories.map(function(cat,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"single-category\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"category\",id:cat.name,value:cat._id,onChange:function onChange(e){return setCategory(e.target.value);},defaultChecked:singleFood.category.name===cat.name}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:cat.name,children:[/*#__PURE__*/_jsx(\"p\",{children:cat.name}),\" \",/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/images/\".concat(cat.name,\".png\"),alt:\"\"})]})]},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-modal\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleEdit(singleFood._id);},children:\"Confirm\"})]})]})});}","map":{"version":3,"sources":["C:/Users/bilal/Documents/food-delivery-app/client/src/components/modal/ModalEditFood.js"],"names":["React","useEffect","useState","axios","Notyf","ModalEditFood","showEdit","onClose","categories","singleFood","setSingleFood","name","setName","category","setCategory","description","setDescription","price","setPrice","handleEdit","id","method","url","process","env","REACT_APP_API_URL","withCredentials","data","headers","then","res","notyf","duration","position","x","y","_id","success","catch","err","console","log","e","stopPropagation","target","value","map","cat","index","PUBLIC_URL"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport axios from \"axios\"\r\nimport \"./modalEditFood.css\"\r\nimport {Notyf} from \"notyf\"\r\nexport default function ModalEditFood({showEdit, onClose, categories, singleFood, setSingleFood}) {\r\n  \r\n    const [name, setName] = useState()\r\n    const [category, setCategory] = useState()\r\n    const [description, setDescription] = useState()\r\n    const [price, setPrice] = useState()\r\n\r\n    \r\n \r\n    \r\n   const handleEdit = async(id) => {\r\n    await axios({\r\n        method:\"put\",\r\n        url:`${process.env.REACT_APP_API_URL}food/edit/` +id,\r\n        withCredentials:true,\r\n        data: {\r\n            name: name,\r\n            category: category,\r\n            description: description,\r\n            price: price\r\n            \r\n     },\r\n     headers : {\r\n       'Access-Control-Allow-Credentials' : true,\r\n       \r\n      }  \r\n    })\r\n    .then((res) => {\r\n        \r\n        const notyf = new Notyf({\r\n            duration: 2000,\r\n          position: {\r\n            x: 'center',\r\n            y: 'top',\r\n          }\r\n          });\r\n          singleFood.name = name\r\n          singleFood.description= description\r\n          singleFood.price = price\r\n          singleFood.category._id = category\r\n        notyf.success('Product edited with success');\r\n       \r\n      \r\n      \r\n    })\r\n    .then(() => onClose())\r\n            \r\n    .catch((err) => {\r\n      console.log(err)\r\n   })\r\n   }\r\n\r\n    if(!showEdit){\r\n        return null\r\n    }\r\n  return (\r\n      <div className='modal'onClick={onClose}>\r\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n\r\n              <div className=\"header-modal\" >\r\n                  <h1>Edit product</h1>\r\n                  <button onClick={onClose}>X</button>\r\n              </div>\r\n              <div className=\"body-modal\">\r\n                  <input type=\"text\" id='name' name='name' placeholder='Name...' onChange={(e) => setName(e.target.value)} defaultValue={singleFood.name} />\r\n                  <input type=\"text\" id='description' name='description' placeholder='Description...' onChange={(e) => setDescription(e.target.value)} defaultValue={singleFood.description}/>\r\n                  <input type=\"text\" id='price' name='price' placeholder='Price...'onChange={(e) => setPrice(e.target.value)} defaultValue={singleFood.price}/>\r\n                  <div className=\"categories-modal\">\r\n                      {categories.map((cat, index) => {\r\n                          return <div className=\"single-category\" key={index} >\r\n                              <input type=\"radio\" name=\"category\" id={cat.name} value={cat._id} onChange={(e) => setCategory(e.target.value)} defaultChecked={singleFood.category.name ===cat.name} />\r\n                              <label htmlFor={cat.name} ><p >{cat.name}</p> <img src={process.env.PUBLIC_URL + `/images/${cat.name}.png`} alt=\"\" /></label>\r\n\r\n                          </div>\r\n                      })}\r\n                  </div>\r\n              </div>\r\n              <div className=\"footer-modal\">\r\n                  <button onClick={onClose}>Back</button>\r\n                  <button onClick={() => handleEdit(singleFood._id)}>Confirm</button>\r\n              </div>\r\n          </div>\r\n\r\n      </div>\r\n  )\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}