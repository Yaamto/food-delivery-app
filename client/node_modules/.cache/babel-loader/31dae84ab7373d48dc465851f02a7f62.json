{"ast":null,"code":"import _toConsumableArray from\"C:/Users/bilal/Documents/food-delivery-app/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/bilal/Documents/food-delivery-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/bilal/Documents/food-delivery-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\bilal\\\\Documents\\\\food-delivery-app\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from'axios';import React,{useState}from'react';import\"./addProductModal.css\";import{Notyf}from'notyf';import'notyf/notyf.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddProductModal(_ref){var categories=_ref.categories,show=_ref.show,onClose=_ref.onClose,allFood=_ref.allFood,setAllFood=_ref.setAllFood;var _useState=useState(),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),price=_useState8[0],setPrice=_useState8[1];var handleCreate=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios({method:\"post\",url:\"\".concat(process.env.REACT_APP_API_URL,\"food/create\"),withCredentials:true,data:{name:name,category:category,description:description,price:price},headers:{'Access-Control-Allow-Credentials':true}}).then(function(res){console.log(res);var newArr=_toConsumableArray(allFood);newArr.unshift(res.data.data);console.log(newArr);setAllFood(newArr);var notyf=new Notyf({duration:2000,position:{x:'center',y:'top'}});notyf.success('Product added with success');}).then(function(){return onClose();}).catch(function(err){console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleCreate(){return _ref2.apply(this,arguments);};}();if(!show){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"modal\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:function onClick(e){return e.stopPropagation();},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-modal\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add a product\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,children:\"X\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"body-modal\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",placeholder:\"Name...\",onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"description\",name:\"description\",placeholder:\"Description...\",onChange:function onChange(e){return setDescription(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"price\",name:\"price\",placeholder:\"Price...\",onChange:function onChange(e){return setPrice(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:\"categories-modal\",children:categories.map(function(cat,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"single-category\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"category\",id:cat.name,value:cat._id,onChange:function onChange(e){return setCategory(e.target.value);}}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:cat.name,children:[/*#__PURE__*/_jsx(\"p\",{children:cat.name}),\" \",/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/images/\".concat(cat.name,\".png\"),alt:\"\"})]})]},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-modal\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreate,children:\"Confirm\"})]})]})});}","map":{"version":3,"sources":["C:/Users/bilal/Documents/food-delivery-app/client/src/pages/admin/products/AddProductModal.js"],"names":["axios","React","useState","Notyf","AddProductModal","categories","show","onClose","allFood","setAllFood","name","setName","category","setCategory","description","setDescription","price","setPrice","handleCreate","method","url","process","env","REACT_APP_API_URL","withCredentials","data","headers","then","res","console","log","newArr","unshift","notyf","duration","position","x","y","success","catch","err","e","stopPropagation","target","value","map","cat","index","_id","PUBLIC_URL"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport React , {useState}from 'react'\r\nimport \"./addProductModal.css\"\r\nimport { Notyf } from 'notyf';\r\nimport 'notyf/notyf.min.css';\r\n\r\nexport default function AddProductModal({categories, show, onClose, allFood, setAllFood}) {\r\n\r\n    const [name, setName] = useState()\r\n    const [category, setCategory] = useState()\r\n    const [description, setDescription] = useState()\r\n    const [price, setPrice] = useState()\r\n\r\n    const handleCreate = async() => {\r\n        await axios({\r\n            method:\"post\",\r\n            url:`${process.env.REACT_APP_API_URL}food/create`,\r\n            withCredentials:true,\r\n            data: {\r\n                name: name,\r\n                category: category,\r\n                description: description,\r\n                price: price\r\n                \r\n         },\r\n         headers : {\r\n           'Access-Control-Allow-Credentials' : true,\r\n           \r\n          }  \r\n        })\r\n        .then((res) => {\r\n            console.log(res)\r\n            const newArr = [...allFood]\r\n            newArr.unshift(res.data.data)\r\n            console.log(newArr)\r\n            setAllFood(newArr)\r\n            const notyf = new Notyf({\r\n                duration: 2000,\r\n              position: {\r\n                x: 'center',\r\n                y: 'top',\r\n              }\r\n              });\r\n            notyf.success('Product added with success');\r\n           \r\n          \r\n          \r\n        })\r\n        .then(() => onClose())\r\n                \r\n        .catch((err) => {\r\n          console.log(err)\r\n       })\r\n    }\r\n\r\n    if(!show){\r\n        return null\r\n    }\r\n\r\n    \r\n  return (\r\n      <div className='modal'onClick={onClose}>\r\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n\r\n              <div className=\"header-modal\" >\r\n                  <h1>Add a product</h1>\r\n                  <button onClick={onClose}>X</button>\r\n              </div>\r\n              <div className=\"body-modal\">\r\n                  <input type=\"text\" id='name' name='name' placeholder='Name...' onChange={(e) => setName(e.target.value)} />\r\n                  <input type=\"text\" id='description' name='description' placeholder='Description...' onChange={(e) => setDescription(e.target.value)}/>\r\n                  <input type=\"text\" id='price' name='price' placeholder='Price...'onChange={(e) => setPrice(e.target.value)} />\r\n                  <div className=\"categories-modal\">\r\n                      {categories.map((cat, index) => {\r\n                          return <div className=\"single-category\" key={index} >\r\n                              <input type=\"radio\" name=\"category\" id={cat.name} value={cat._id} onChange={(e) => setCategory(e.target.value)} />\r\n                              <label htmlFor={cat.name} ><p >{cat.name}</p> <img src={process.env.PUBLIC_URL + `/images/${cat.name}.png`} alt=\"\" /></label>\r\n\r\n                          </div>\r\n                      })}\r\n                  </div>\r\n              </div>\r\n              <div className=\"footer-modal\">\r\n                  <button onClick={onClose}>Back</button>\r\n                  <button onClick={handleCreate}>Confirm</button>\r\n              </div>\r\n          </div>\r\n\r\n      </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}