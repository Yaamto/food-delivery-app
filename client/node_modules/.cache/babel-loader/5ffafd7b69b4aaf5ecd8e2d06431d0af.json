{"ast":null,"code":"import _slicedToArray from\"C:/Users/bilal/Documents/food-delivery-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from'react';import axios from\"axios\";import\"./cart.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Cart(_ref){var cart=_ref.cart,removeFromCart=_ref.removeFromCart,totalPrice=_ref.totalPrice,createOrder=_ref.createOrder,order=_ref.order;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),cartShow=_useState2[0],setCartShow=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),cartState=_useState4[0],setCartState=_useState4[1];var cartEnd=useRef();// const \nvar scrollToBottom=function scrollToBottom(){var _cartEnd$current;(_cartEnd$current=cartEnd.current)===null||_cartEnd$current===void 0?void 0:_cartEnd$current.scrollIntoView({behavior:\"smooth\"});};var handleHideShowCart=function handleHideShowCart(e){e.preventDefault();cartState.classList.toggle(\"hidden-cart\");if(cartState.classList.contains(\"hidden-cart\")){setCartShow(true);}else{setCartShow(false);}};useEffect(function(){setCartState(document.querySelector(\".cart\"));},[]);useEffect(function(){scrollToBottom();},[cart]);return/*#__PURE__*/_jsxs(\"div\",{className:\"all-cart\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"hide-show-cart\",onClick:function onClick(e){return handleHideShowCart(e);},children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:cartShow?process.env.PUBLIC_URL+\"/images/chevron-en-haut.png\":process.env.PUBLIC_URL+\"/images/chevron-en-bas.png\",alt:\"\",height:22}),\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{className:\"cart-title\",children:[\"Cart \",cart.length!=0?/*#__PURE__*/_jsxs(\"span\",{children:[\" : \",/*#__PURE__*/_jsx(\"span\",{className:\"cart-digits\",children:cart.length})]}):\"\",\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart\",children:[cart.length===0?\"\":cart.map(function(item,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",ref:cartEnd,children:[/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/images/\".concat(item.name,\".png\"),alt:\"\",width:\"50\",height:\"50\"}),/*#__PURE__*/_jsx(\"span\",{children:item.name}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",item.price]}),/*#__PURE__*/_jsx(\"button\",{className:\"remove\",onClick:function onClick(){return removeFromCart(item._id);},children:\"X\"})]},i);}),/*#__PURE__*/_jsxs(\"span\",{className:\"total-price\",children:[\"Total Price : $\",totalPrice]}),totalPrice===0?/*#__PURE__*/_jsx(\"span\",{children:\"Add Something to cart !\"}):/*#__PURE__*/_jsx(\"button\",{className:\"order\",onClick:function onClick(){return createOrder();},children:\"Order now \"})]})]});}","map":{"version":3,"sources":["C:/Users/bilal/Documents/food-delivery-app/client/src/components/cart/Cart.js"],"names":["React","useEffect","useRef","useState","axios","Cart","cart","removeFromCart","totalPrice","createOrder","order","cartShow","setCartShow","cartState","setCartState","cartEnd","scrollToBottom","current","scrollIntoView","behavior","handleHideShowCart","e","preventDefault","classList","toggle","contains","document","querySelector","process","env","PUBLIC_URL","length","map","item","i","name","price","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\r\nimport axios from \"axios\"\r\nimport \"./cart.css\"\r\nexport default function Cart({cart, removeFromCart, totalPrice, createOrder, order}) {\r\n\r\n\r\n    const [cartShow, setCartShow] = useState(false)\r\n    const [cartState, setCartState] = useState()\r\n    const cartEnd = useRef()\r\n    \r\n  // const \r\n    \r\n\r\n  const scrollToBottom = () => {\r\n    cartEnd.current?.scrollIntoView({ behavior: \"smooth\" })\r\n  }\r\n\r\n  const handleHideShowCart = (e) => {\r\n    e.preventDefault()\r\n    cartState.classList.toggle(\"hidden-cart\")\r\n    if(cartState.classList.contains(\"hidden-cart\")){\r\n      setCartShow(true)\r\n    }else{\r\n      setCartShow(false)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    setCartState(document.querySelector(\".cart\"))\r\n    \r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom()\r\n  }, [cart]);\r\n\r\n  return (\r\n      \r\n    <div className=\"all-cart\">\r\n      <span className='hide-show-cart' onClick={(e) => handleHideShowCart(e)}> <img src={cartShow ? (process.env.PUBLIC_URL + \"/images/chevron-en-haut.png\") : (process.env.PUBLIC_URL + \"/images/chevron-en-bas.png\")} alt=\"\" height={22}/> </span>\r\n      <h2 className='cart-title'>Cart {cart.length != 0 ? (<span> : <span className='cart-digits'>{cart.length}</span></span>) : (\"\")} </h2>\r\n    <div className=\"cart\" >\r\n        \r\n        \r\n        {cart.length === 0 ? \"\": ( cart.map((item, i) => {\r\n         \r\n            return <div className='cart-item' ref={cartEnd} key={i}>\r\n                <img src={process.env.PUBLIC_URL + `/images/${item.name}.png`} alt=\"\" width=\"50\" height=\"50\" />\r\n                <span>{item.name}</span>\r\n                <span>${item.price}</span>\r\n                \r\n                <button className='remove' onClick={() => removeFromCart(item._id)}>X</button>\r\n                \r\n            </div>\r\n        }))}\r\n       \r\n        <span className='total-price'>Total Price : ${totalPrice}</span>\r\n        {totalPrice === 0 ? (<span>Add Something to cart !</span>) : <button className='order' onClick={() => createOrder()}>Order now </button>}\r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}