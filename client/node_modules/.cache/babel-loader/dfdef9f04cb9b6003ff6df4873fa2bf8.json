{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bilal\\\\Documents\\\\food-delivery-app\\\\client\\\\src\\\\components\\\\protectedRoute\\\\AdminProtectedRoutes.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminProtectedRoutes = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [isAuth, setIsAuth] = useState(true);\n  useEffect(() => {\n    async function getAuth() {\n      const res = await fetch('http://localhost:3000/jwtid/admin', {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include'\n      });\n      const data = await res.json();\n      console.log(data);\n\n      if (data.user._id) {\n        setIsAuth(true);\n        localStorage.setItem(\"userId\", data.user._id);\n        localStorage.setItem(\"userInfo\", data.user);\n      } else {\n        setIsAuth(false);\n        console.log(data);\n      }\n    }\n\n    console.log(isAuth);\n    getAuth();\n  }, []);\n  return isAuth ? children : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 30\n  }, this);\n};\n\n_s(AdminProtectedRoutes, \"/i/wAOlltoEkdfK2JDLmZnpCTDE=\");\n\n_c = AdminProtectedRoutes;\nexport default AdminProtectedRoutes;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminProtectedRoutes\");","map":{"version":3,"sources":["C:/Users/bilal/Documents/food-delivery-app/client/src/components/protectedRoute/AdminProtectedRoutes.js"],"names":["useEffect","useState","Navigate","AdminProtectedRoutes","children","isAuth","setIsAuth","getAuth","res","fetch","headers","credentials","data","json","console","log","user","_id","localStorage","setItem"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,QAAT,QAAyB,kBAAzB;;;AAGA,MAAMC,oBAAoB,GAAG,QAAgB;AAAA;;AAAA,MAAf;AAACC,IAAAA;AAAD,GAAe;AAE3C,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBL,QAAQ,CAAC,IAAD,CAApC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAeO,OAAf,GAAyB;AACvB,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,mCAAD,EAAsC;AAC3DC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SADkD;AAI3DC,QAAAA,WAAW,EAAE;AAJ8C,OAAtC,CAAvB;AAMA,YAAMC,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAJ,EAAnB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;;AACA,UAAIA,IAAI,CAACI,IAAL,CAAUC,GAAd,EAAmB;AACjBX,QAAAA,SAAS,CAAC,IAAD,CAAT;AACAY,QAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BP,IAAI,CAACI,IAAL,CAAUC,GAAzC;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCP,IAAI,CAACI,IAAtC;AACD,OAJD,MAIM;AACJV,QAAAA,SAAS,CAAC,KAAD,CAAT;AACAQ,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACD;AAEF;;AACDE,IAAAA,OAAO,CAACC,GAAR,CAAYV,MAAZ;AAEAE,IAAAA,OAAO;AACR,GAvBQ,EAuBN,EAvBM,CAAT;AAyBA,SAAOF,MAAM,GAAGD,QAAH,gBAAc,QAAC,QAAD;AAAU,IAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,UAA3B;AAED,CA/BD;;GAAMD,oB;;KAAAA,oB;AAiCN,eAAeA,oBAAf","sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { Navigate } from \"react-router-dom\"\r\n\r\n\r\nconst AdminProtectedRoutes = ({children}) => {\r\n\r\n  const [isAuth, setIsAuth] = useState(true)\r\n\r\n  useEffect(() => {\r\n    async function getAuth() {\r\n      const res = await fetch('http://localhost:3000/jwtid/admin', {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      })\r\n      const data = await res.json()\r\n      console.log(data)\r\n      if (data.user._id) {\r\n        setIsAuth(true)\r\n        localStorage.setItem(\"userId\", data.user._id )\r\n        localStorage.setItem(\"userInfo\", data.user)\r\n      }else {\r\n        setIsAuth(false)\r\n        console.log(data)\r\n      }\r\n    \r\n    }\r\n    console.log(isAuth)\r\n\r\n    getAuth()\r\n  }, [])\r\n\r\n  return isAuth ? children : <Navigate to='/login' />\r\n\r\n}\r\n\r\nexport default AdminProtectedRoutes"]},"metadata":{},"sourceType":"module"}